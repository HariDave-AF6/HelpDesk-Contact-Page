<div class="sidebar">
  <nav class="sidebar-nav">
    <ul class="nav-list">
      @for(item of menuItems; track item) {
        <li class="nav-item" [class.active]="item.active">
          <a class="nav-link" [routerLink]="item.route">
            <mat-icon class="nav-icon">{{item.icon}}</mat-icon>
            <span class="nav-label">{{item.label}}</span>
            @if(item.label === 'Inbox') {
              <span class="nav-badge" [class.warn-badge]="item.label === 'Inbox'">
                {{item.badge}}
              </span>
            }
          </a>
        </li>
      }
    </ul>
  </nav>

  <div style="display: flex; justify-content: center; gap: 1rem;">
      <div class="default-theme-color-circle" (click)="switchTheme('theme-default')" style="background-color: #1976d2;"></div>
      <div class="default-theme-color-circle" (click)="switchTheme('theme-green')" style="background-color: #388e3c;"></div>
      <div class="default-theme-color-circle" (click)="switchTheme('theme-dark')" style="background-color: #000000;"></div>
  </div>

  <div class="sidebar-footer">
    <div class="user-profile">
      <div class="profile-avatar">
        <mat-icon>account_circle</mat-icon>
      </div>
      <div class="profile-info">
        <div class="profile-name">John Doe</div>
        <div class="profile-email">john.doe&#64;email.com</div>
      </div>
      <button
        class="nav-icon-button profile-menu-btn"
        [matMenuTriggerFor]="profileMenu"
      >
        <mat-icon>more_vert</mat-icon>
      </button>
    </div>
  </div>
</div>

<!-- Profile Menu -->
<mat-menu #profileMenu="matMenu">
  <div style="display: flex; justify-content: center; margin-bottom: 3px; color: var(--primary-color);">
    <mat-icon>person</mat-icon>
    <span>Profile</span>
  </div>
  <mat-divider></mat-divider>
  <div style="display: flex; justify-content: center; margin-top: 8px; color: var(--warn-color);">
    <mat-icon>logout</mat-icon>
    <span style="margin-left: 4px">Log out</span>
  </div>
</mat-menu>
